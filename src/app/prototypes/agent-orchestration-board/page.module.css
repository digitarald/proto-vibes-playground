.board {
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
  background: var(--background);
}

/* ─── Mission Header ─── */

.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1.25rem;
  background: var(--chrome);
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}

.headerLeft {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.headerRight {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.missionTitle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--foreground-bright);
}

.missionIcon {
  color: var(--accent);
}

.missionMeta {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.metaItem {
  display: flex;
  align-items: center;
  gap: 0.3rem;
  font-size: 0.75rem;
  color: var(--muted);
  font-family: var(--font-mono);
}

.metaSuccess {
  color: var(--success);
}

.startButton {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.375rem 0.875rem;
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: var(--radius-md);
  font-size: 0.8125rem;
  font-weight: 500;
  cursor: pointer;
  transition: background 150ms;
}

.startButton:hover {
  background: var(--accent-hover);
}

.liveIndicator {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--success);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.liveDot {
  width: 6px;
  height: 6px;
  background: var(--success);
  border-radius: 50%;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

/* ─── Columns ─── */

.columns {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1px;
  flex: 1;
  overflow: hidden;
  background: var(--border);
}

.column {
  display: flex;
  flex-direction: column;
  background: var(--background);
  overflow: hidden;
}

.columnHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.625rem 0.75rem;
  border-top: 2px solid var(--muted);
  flex-shrink: 0;
}

.columnTitle {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--foreground);
}

.columnIcon {
  font-size: 14px;
}

.columnCount {
  font-size: 0.6875rem;
  font-weight: 600;
  font-family: var(--font-mono);
  padding: 0.125rem 0.4rem;
  border-radius: var(--radius-sm);
  color: var(--muted);
  min-width: 1.25rem;
  text-align: center;
}

.columnBody {
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.emptyColumn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.15;
}

.emptyIcon {
  font-size: 28px;
}

/* ─── Agent Cards ─── */

.card {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  background: var(--card);
  padding: 0.625rem 0.75rem;
  cursor: pointer;
  transition: border-color 180ms, box-shadow 180ms, opacity 180ms, transform 180ms;
  animation: cardEnter 300ms ease-out;
  position: relative;
}

@keyframes cardEnter {
  from {
    opacity: 0;
    transform: translateY(-6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card:hover {
  border-color: color-mix(in srgb, var(--accent) 30%, transparent);
  box-shadow: var(--shadow-md);
}

.cardDimmed {
  opacity: 0.35;
  transition-delay: 60ms;
}

.cardHighlighted {
  border-color: color-mix(in srgb, var(--accent) 40%, transparent);
  box-shadow: var(--shadow-lg);
}

.cardIsDep {
  border-color: color-mix(in srgb, var(--accent) 50%, transparent);
}

.cardIsDependent {
  border-color: color-mix(in srgb, var(--warning) 40%, transparent);
}

.card_needsinput {
  border-color: color-mix(in srgb, var(--warning) 40%, transparent);
  background: color-mix(in srgb, var(--warning) 4%, var(--card));
}

.card_completed {
  opacity: 0.6;
}

.card_completed:hover {
  opacity: 1;
}

/* Card inner layout */

.cardHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  pointer-events: none;
}

.cardTitle {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--foreground-bright);
}

.cardIcon {
  color: var(--muted);
  font-size: 14px;
}

.cardPercent {
  font-size: 0.6875rem;
  font-family: var(--font-mono);
  color: var(--accent);
  font-weight: 600;
}

.cardDone {
  color: var(--success);
  font-size: 14px;
}

.cardAlert {
  color: var(--warning);
  font-size: 14px;
  animation: shake 0.8s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: rotate(0); }
  20% { transform: rotate(12deg); }
  40% { transform: rotate(-8deg); }
  60% { transform: rotate(6deg); }
  80% { transform: rotate(-3deg); }
}

/* Progress bar */

.progressTrack {
  height: 2px;
  background: var(--border);
  border-radius: 1px;
  margin-top: 0.5rem;
  overflow: hidden;
  pointer-events: none;
}

.progressBar {
  height: 100%;
  background: var(--accent);
  border-radius: 1px;
  transition: width 150ms linear;
  box-shadow: 0 0 6px color-mix(in srgb, var(--accent) 40%, transparent);
}

/* Needs-input section */

.inputSection {
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border);
}

.inputPrompt {
  font-size: 0.75rem;
  color: var(--foreground);
  line-height: 1.5;
  margin-bottom: 0.5rem;
  pointer-events: none;
}

.inputActions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

.inputOption {
  padding: 0.25rem 0.5rem;
  font-size: 0.6875rem;
  font-weight: 500;
  border: 1px solid color-mix(in srgb, var(--warning) 40%, transparent);
  background: color-mix(in srgb, var(--warning) 8%, transparent);
  color: var(--foreground-bright);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background 120ms, border-color 120ms;
}

.inputOption:hover {
  background: color-mix(in srgb, var(--warning) 18%, transparent);
  border-color: var(--warning);
}

/* Expanded detail */

.detail {
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
  pointer-events: none;
}

.detailDesc {
  font-size: 0.75rem;
  color: var(--muted);
  line-height: 1.5;
  margin: 0;
}

.detailRow {
  display: flex;
  align-items: baseline;
  gap: 0.375rem;
  font-size: 0.6875rem;
}

.detailLabel {
  color: var(--muted);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  flex-shrink: 0;
}

.detailValue {
  color: var(--foreground);
  font-family: var(--font-mono);
}

/* Dependency hint — inline badge in card header */

.cardStatus {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  pointer-events: none;
}

.depBadge {
  display: flex;
  align-items: center;
  gap: 0.05rem;
  font-size: 0.5625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  line-height: 1;
  padding: 0.125rem 0.25rem;
  border-radius: var(--radius-sm);
}

.depBadge_up {
  color: var(--accent);
  background: color-mix(in srgb, var(--accent) 12%, transparent);
}

.depBadge_down {
  color: var(--warning);
  background: color-mix(in srgb, var(--warning) 12%, transparent);
}
